<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI √ötlev√©l Kv√≠z: Etikai √Årnyalatok</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom Styles for a Board Game Feel */
        :root {
            --color-bg: #FFF7ED; /* Soft Off-White/Cream */
            --color-primary: #FDBA74; /* Soft Orange */
            --color-secondary: #FEF3C7; /* Pale Yellow */
            --color-text: #44403C; /* Dark Brown/Charcoal */
            --color-success: #34D399; /* Green */
            --color-failure: #F87171; /* Red */
            --board-square-size: 50px; /* Base size for squares */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            transition: all 0.5s ease;
        }
        .card-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s;
        }
        .choice-button {
            transition: all 0.2s;
            text-align: left;
        }
        .choice-button:hover {
            background-color: #F97316; /* Deeper Orange */
            transform: scale(1.01);
        }
        .score-box {
            background-color: var(--color-primary);
            border-radius: 9999px; /* Pill shape */
            padding: 8px 16px;
            font-weight: 800;
            color: white;
            min-width: 120px;
            text-align: center;
        }
        /* Style for positive/negative results */
        .positive-result {
            background-color: #DCFCE7; /* Pale Green */
            color: #15803D; /* Dark Green */
        }
        .partial-result {
            background-color: #FEF9C3; /* Pale Yellow */
            color: #A16207; /* Dark Yellow */
        }
        .negative-result {
            background-color: #FEE2E2; /* Pale Red */
            color: #B91C1C; /* Dark Red */
        }
        
        /* --- BOARD STYLES --- */
        #game-board-container {
            border: 4px solid var(--color-text);
            background-color: #A3A3A3; /* Dark gray track background */
            position: relative;
            padding: 8px;
            overflow-x: auto;
            border-radius: 1rem;
        }
        #game-board {
            display: grid;
            /* Create 26 columns (0 to 25) */
            grid-template-columns: repeat(26, var(--board-square-size));
            grid-auto-rows: var(--board-square-size);
            gap: 4px;
            position: relative;
            padding: 0;
            min-width: calc(26 * var(--board-square-size) + 25 * 4px); /* Ensure it spans all squares */
        }
        .board-square {
            width: var(--board-square-size);
            height: var(--board-square-size);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: bold;
            color: var(--color-text);
            border-radius: 0.5rem;
            background-color: var(--color-secondary); /* Pale Yellow */
            position: relative;
            z-index: 10;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.1);
        }
        .board-square:nth-child(5n + 1) {
            background-color: var(--color-primary); /* Highlight every 5th square */
            color: white;
        }
        .board-square:first-child {
            background-color: var(--color-success); /* Start square */
            color: white;
        }
        .board-square:last-child {
            background-color: #EF4444; /* Max square - red for caution/end */
            color: white;
        }

        /* Player Token Peg */
        #player-token {
            position: absolute;
            top: 50%;
            transform: translate(0, -50%); 
            width: 30px;
            height: 30px;
            background-color: #4F46E5; /* Indigo */
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: bold;
            z-index: 20;
            transition: transform 0.8s ease-in-out; /* Smooth movement animation */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            border: 3px solid white;
        }
        
        /* Media query to adjust layout for larger screens */
        @media (min-width: 1024px) {
            #main-content-layout {
                grid-template-columns: 2fr 1fr; /* Decision card wider than board */
                gap: 2rem;
            }
        }
    </style>
    <script>
        // --- GAME DATA ---
        // A 'move' property will be assigned: 2 for Good, 1 for Partial, 0 for Bad
        const gameDataRaw = [
            {
                scenario: "1. Az AI chatbotoknak van saj√°t v√©lem√©ny√ºk √©s tudatuk, mint egy embernek, ez√©rt teljesen megb√≠zhat√≥ a v√°laszuk.",
                options: [
                    { move: 0, text: "IGAZ: Az AI-nak van tudata, √©s min√©l t√∂bbet haszn√°ljuk, ann√°l ink√°bb lesz saj√°t v√©lem√©nye, ami megb√≠zhat√≥v√° teszi." },
                    { move: 1, text: "R√âSZBEN IGAZ: Az AI-nak nincs tudata, de nagyon hitelesen ut√°nozza az emberi gondolkod√°st √©s v√©lem√©nyalkot√°st. Ugyanakkor k√©pes az elfogults√°gra (bias-ra) a bet√°pl√°lt adatok miatt." },
                    { move: 2, text: "HAMIS: Az AI-nak nincs saj√°t tudata vagy v√©lem√©nye. Mint√°k alapj√°n dolgozik, statisztikai val√≥sz√≠n≈±s√©geket sz√°mol. A v√°laszok kritikus √©rt√©kel√©st ig√©nyelnek." }
                ]
            },
            {
                scenario: "2. Az AI ‚Äûmindentud√≥‚Äù, ez√©rt minden, √°ltala adott v√°lasz pontosabb, mint a tank√∂nyvben l√©v≈ë inform√°ci√≥.",
                options: [
                    { move: 0, text: "IGAZ: Az AI a teljes internetet ismeri, ez√©rt sokkal megb√≠zhat√≥bb, mint egy r√©gi tank√∂nyv." },
                    { move: 1, text: "R√âSZBEN IGAZ: Az AI gyorsan friss√≠ti az adatait, de mint√°t keres, nem felt√©tlen√ºl az igazs√°got. Fontos a forr√°sellen≈ërz√©s (triangul√°ci√≥), mert az AI is hib√°zhat √©s hallucin√°lhat." },
                    { move: 2, text: "HAMIS: Az AI nem ‚Äûmindentud√≥‚Äù, hanem mint√°k alapj√°n dolgozik, √©s hib√°zhat. A fontos √°ll√≠t√°sokat mindig ellen≈ërizni kell megb√≠zhat√≥ forr√°sokb√≥l (tank√∂nyv, hivatalos honlap)." }
                ]
            },
            {
                scenario: "3. Nyugodtan megadhatom a di√°kok teljes nev√©t √©s oszt√°ly√°t egy AI-nak, ha jobb √©rt√©kel√©st szeretn√©k kapni.",
                options: [
                    { move: 0, text: "IGAZ: Ha n√©vvel adom meg, az AI gyorsan kitanulja a di√°k jellemz≈ëit, √©s sokkal szem√©lyre szabottabb √©rt√©kel√©st kapok." },
                    { move: 1, text: "R√âSZBEN IGAZ: Megadhat√≥k a di√°kok munk√°j√°r√≥l sz√≥l√≥ adatok, de n√©v helyett √©rdemes sorsz√°mot vagy egyedi azonos√≠t√≥t haszn√°lni. Ker√ºlni kell a szem√©lyes √©s azonos√≠t√°sra alkalmas adatok felt√∂lt√©s√©t." },
                    { move: 2, text: "HAMIS: Szigor√∫an tilos a tanul√≥k szem√©lyes, bizalmas vagy azonos√≠t√°sra alkalmas adatainak megoszt√°sa AI alkalmaz√°sokkal. Csak anonimiz√°lt adatot szabad megadni." }
                ]
            },
            {
                scenario: "4. Ha AI-val k√©sz√≠tettem egy k√©pet a tan√≥r√°mhoz, vagy AI seg√≠tett a feladatlap szerkeszt√©s√©ben, azt nem kell k√ºl√∂n jeleznem a di√°koknak.",
                options: [
                    { move: 0, text: "Rossz: Nem kell jeleznem, mert az AI √°ltal k√©sz√≠tett anyag is az √©n szellemi tulajdonom." },
                    { move: 1, text: "R√âSZBEN IGAZ: Tan√°ri felel≈ëss√©g, hogy a tartalom pontos legyen, de a transzparencia miatt az √≥r√°n √©rdemes sz√≥lni, hogy AI is szerepelt a k√©sz√≠t√©sben." },
                    { move: 2, text: "HAMIS: Minden AI-gener√°lt tartalmat jelezni kell. Ez vonatkozik az AI √°ltal k√©sz√≠tett k√©pekre, tananyagokra √©s feladatlapokra is, √©s a di√°kok sz√°m√°ra is egy√©rtelm≈±nek kell lennie." }
                ]
            },
            {
                scenario: "5. Ha az AI hivatkozik egy forr√°sra, nem kell ellen≈ëriznem, mert a forr√°smegjel√∂l√©s megb√≠zhat√≥v√° teszi a v√°laszt.",
                options: [
                    { move: 0, text: "IGAZ: Igen, ha van forr√°s, akkor a v√°lasz t√©ny, √©s megb√≠zhat√≥ forr√°sb√≥l sz√°rmazik." },
                    { move: 1, text: "R√âSZBEN IGAZ: A hivatkoz√°s seg√≠thet, de a kritikus √©rt√©kel√©s alapvet≈ë k√©szs√©g, amibe a forr√°s hiteless√©g√©nek ellen≈ërz√©se is beletartozik." },
                    { move: 2, text: "HAMIS: Mindig ellen≈ërizni kell az AI √°ltal adott v√°laszt √©s a forr√°sokat is. Az AI gyakran ad meg nem l√©tez≈ë (hallucin√°lt) hivatkoz√°sokat." }
                ]
            },
            {
                scenario: "6. A tan√°r k√∂telez≈ëv√© teheti a di√°koknak egy konkr√©t AI-eszk√∂z haszn√°lat√°t (pl. ChatGPT), √©s elv√°rhatja, hogy mindenki regisztr√°ljon az √≥ra el≈ëtt.",
                options: [
                    { move: 0, text: "IGAZ: Igen, ha az eszk√∂z seg√≠t a tanul√°sban, a tan√°rnak joga van elrendelni a haszn√°lat√°t, mint b√°rmilyen m√°s tank√∂nyvet." },
                    { move: 1, text: "R√âSZBEN IGAZ: Az AI haszn√°lata javasolhat√≥, de a regisztr√°ci√≥ nem k√©nyszer√≠thet≈ë ki. K√ºl√∂n√∂sen 16 √©v alatti di√°kok eset√©n sz√ºks√©ges a sz√ºl≈ëi beleegyez√©s a regisztr√°ci√≥hoz." },
                    { move: 2, text: "HAMIS: Az AI haszn√°lata nem tehet≈ë k√∂telez≈ëv√©. A regisztr√°ci√≥ √∂nk√©ntes √©s otthon t√∂rt√©nik, 16 √©ves kor alatt sz√ºl≈ëi beleegyez√©st felt√©telez." }
                ]
            },
            {
                scenario: "7. Az AI-t az√©rt haszn√°ljuk, hogy a di√°koknak min√©l kevesebb gondolkod√°si munk√°ja legyen, √©s azonnal megkapj√°k a k√©sz megold√°sokat.",
                options: [
                    { move: 0, text: "IGAZ: Igen, az AI-t a hat√©konys√°g√©rt haszn√°ljuk, hogy a di√°koknak ne kelljen gondolkodniuk az apr√≥ r√©szleteken, csak a v√©gterm√©ken." },
                    { move: 1, text: "R√âSZBEN IGAZ: Az AI felgyors√≠thatja a folyamatot (pl. v√°zlatk√©sz√≠t√©s), de a di√°koknak tudniuk kell, hogyan k√©rjenek magyar√°zatot a puszta megold√°s helyett." },
                    { move: 2, text: "HAMIS: Az AI c√©lja a tanul√°s t√°mogat√°sa, nem pedig helyettes√≠t√©se. A gondolkod√°si munka, a meg√©rt√©s √©s az √∂n√°ll√≥ munka a di√°kn√°l marad." }
                ]
            },
            {
                scenario: "8. A promptol√°s (az utas√≠t√°s ad√°sa az AI-nak) nem egy fontos k√©szs√©g, mert az AI minden k√©r√©s√ºnket meg√©rti a di√°kok sz√°m√°ra is √©rthet≈ë nyelven.",
                options: [
                    { move: 0, text: "IGAZ: Igen, ha tudok g√©pelni, tudok promptot √≠rni. Ez nem is egy k√ºl√∂n k√©szs√©g." },
                    { move: 1, text: "R√âSZBEN IGAZ: Az AI k√©pes √©rtelmezni a h√©tk√∂znapi nyelvet, de a vil√°gos, pontos, kontextust ad√≥ utas√≠t√°sok l√©nyegesen jobb v√°laszt eredm√©nyeznek. A promptol√°s tanulhat√≥ k√©szs√©g." },
                    { move: 2, text: "HAMIS: A promptol√°si alapismeretek elengedhetetlenek. Tudni kell vil√°gos, pontos utas√≠t√°sokat, p√©ld√°kat vagy kontextust adni, √©s a v√°laszt l√©p√©sr≈ël l√©p√©sre pontos√≠tani (iter√°lni)." }
                ]
            },
            {
                scenario: "9. A tanul√≥knak alanyi joguk van az AI haszn√°lat√°ra az iskolai √≥r√°k √©s feladatok sor√°n, mint az internetes keres≈ë haszn√°lat√°ra.",
                options: [
                    { move: 0, text: "IGAZ: Igen, az AI-t alapvet≈ë digit√°lis eszk√∂znek kell tekinteni, √©s mindenkinek joga van haszn√°lni." },
                    { move: 1, text: "R√âSZBEN IGAZ: Az AI fontos eszk√∂z, de az iskolai k√∂rnyezetben a haszn√°lat szab√°lyozott lehet≈ës√©g. A haszn√°lat felt√©tele az AI √∫tlev√©l vagy a tan√°r enged√©lye." },
                    { move: 2, text: "HAMIS: Az AI felhaszn√°l√°sa nem alapvet≈ë jog az iskol√°ban. Iskolai k√∂rnyezetben a haszn√°lat szab√°lyozott. Az AI √∫tlev√©l megszerz√©se a jogszer≈± felhaszn√°l√°s felt√©tele." }
                ]
            },
            {
                scenario: "10. Eg√©szs√©g√ºgyi √©s jogi k√©rd√©sekben az AI adja a leggyorsabb √©s legmegb√≠zhat√≥bb tan√°csot, ez√©rt kiz√°r√≥lag arra szabad alapozni a d√∂nt√©seket.",
                options: [
                    { move: 0, text: "IGAZ: Igen, mert az AI azonnal √∂sszevet t√∂bb ezer forr√°st, √©s ez√©rt jobb, mint egyetlen orvos vagy jog√°sz." },
                    { move: 1, text: "R√âSZBEN IGAZ: Az AI adhat √°ltal√°nos t√°j√©koztat√°st jogi vagy eg√©szs√©g√ºgyi t√©m√°kban, de nem alkalmas v√©gleges, √©letvesz√©lyes helyzetekre vonatkoz√≥ tan√°cs elfogad√°s√°ra." },
                    { move: 2, text: "HAMIS: Az AI nem alkalmas orvosi, jogi vagy √©letvesz√©lyes helyzetekre vonatkoz√≥ tan√°cs v√©gleges elfogad√°s√°ra. A v√©gs≈ë d√∂nt√©st nem szabad kiz√°r√≥lag AI tan√°cs√°ra alapozni." }
                ]
            }
        ];

        // Function to shuffle array elements (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Prepare game data: shuffle options for each scenario
        const gameData = gameDataRaw.map(item => {
            const shuffledOptions = [...item.options]; // Copy the array
            shuffleArray(shuffledOptions); // Shuffle the options
            return {
                scenario: item.scenario,
                choices: shuffledOptions
            };
        });

        
        let currentStep = 0;
        let currentScore = 0;
        const maxSquares = 20; // Changed max squares to 20 for 10 questions * 2 points max
        let isGameActive = true;
        let choiceMade = false; 

        // Element variables declared globally but initialized later
        let elScenario, elChoices, elScore, elStepCounter, elCard, elResultBox, elMainContent, elIntro, elConclusion, elResultText, elResultMove, elContinueButton, elPlayerToken, elBoardContainer;

        // Function to initialize DOM elements
        function initializeElements() {
            elScenario = document.getElementById('scenario-text');
            elChoices = document.getElementById('choices-container');
            elScore = document.getElementById('current-score');
            elStepCounter = document.getElementById('step-counter');
            elCard = document.getElementById('game-card');
            elResultBox = document.getElementById('result-box');
            elMainContent = document.getElementById('main-content');
            elIntro = document.getElementById('intro-screen');
            elConclusion = document.getElementById('conclusion-screen');
            elResultText = document.getElementById('result-text');
            elResultMove = document.getElementById('result-move');
            elContinueButton = document.getElementById('continue-button'); 
            elPlayerToken = document.getElementById('player-token');
            elBoardContainer = document.getElementById('game-board-container');
            
            createBoardSquares(); // Call board creation on init
        }

        // Creates the squares (0 to maxSquares) for the visualization
        function createBoardSquares() {
            const board = document.getElementById('game-board');
            if (!board) return;
            // Clear existing squares before creation
            board.innerHTML = ''; 

            // Update grid columns in CSS dynamically (or ensure CSS handles up to 20)
            // For simplicity, we stick to the 26 columns defined in CSS, but only fill up to maxSquares
            for (let i = 0; i <= maxSquares; i++) {
                const square = document.createElement('div');
                square.className = 'board-square';
                square.textContent = i;
                square.id = `square-${i}`;
                board.appendChild(square);
            }
             // Ensure the last square is correctly styled as the 'end' point
            const lastSquare = document.getElementById(`square-${maxSquares}`);
            if (lastSquare) {
                lastSquare.style.backgroundColor = '#10B981'; // Green for max score
                lastSquare.style.color = 'white';
            }
        }

        // Moves the player token visually on the board
        function moveToken(newScore) {
            const clampedScore = Math.max(0, Math.min(newScore, maxSquares));
            
            // Define fixed values matching CSS
            const squareWidth = 50; 
            const gap = 4;
            const stepDistance = squareWidth + gap;
            const pegOffset = 30 / 2; // Half the peg width (30px)

            const newX = (clampedScore * stepDistance) + (squareWidth / 2) - pegOffset;

            elPlayerToken.style.transform = `translateX(${newX}px) translateY(-50%)`;
            
            if (elBoardContainer) {
                // Auto-scroll logic remains the same
                elBoardContainer.scrollLeft = Math.max(0, newX - elBoardContainer.clientWidth / 2 + pegOffset);
            }
            
            setTimeout(() => {
                currentScore = clampedScore;
                elScore.textContent = currentScore;
            }, 800); 
        }
        
        // --- GAME LOGIC ---

        function updateUI() {
            if (!elScore || !elStepCounter || !elScenario || !elChoices || !elContinueButton) return; 

            elScore.textContent = currentScore; 

            if (currentStep < gameData.length) {
                elStepCounter.textContent = `${currentStep + 1} / ${gameData.length}`;
                const step = gameData[currentStep];
                elScenario.innerHTML = `
                    <p class="text-xl md:text-2xl font-bold">${step.scenario}</p>
                `;
                renderChoices(step.choices);
            } else {
                endGame();
            }
        }

        function renderChoices(choices) {
            if (!elChoices || !elResultBox || !elContinueButton) return; 

            choiceMade = false; 
            elContinueButton.classList.add('hidden'); 
            elChoices.classList.remove('pointer-events-none', 'opacity-50'); 
            elResultBox.classList.add('hidden'); 

            const optionLetters = ['A', 'B', 'C'];
            elChoices.innerHTML = choices.map((choice, index) => `
                <button
                    onclick="handleChoice(${index})"
                    class="choice-button w-full p-4 md:p-6 bg-orange-500 text-white text-lg font-bold rounded-xl card-shadow hover:bg-orange-600 focus:outline-none focus:ring-4 focus:ring-orange-300 transition duration-150 ease-in-out"
                >
                    <span class="mr-3 font-extrabold text-2xl">${optionLetters[index]}</span>
                    ${choice.text}
                </button>
            `).join('');
        }

        function handleChoice(choiceIndex) {
            if (!isGameActive || choiceMade || !elScore || !elChoices || !elResultBox || !elResultText || !elResultMove || !elContinueButton) return; 

            choiceMade = true; 
            
            const step = gameData[currentStep];
            const chosen = step.choices[choiceIndex];

            const movePoints = chosen.move;
            const newScore = currentScore + movePoints;

            // 1. Trigger animated token movement
            moveToken(newScore);

            // 2. Determine result style and message
            let resultClass = 'negative-result';
            let resultMessage = '';

            if (movePoints === 2) {
                resultClass = 'positive-result';
                resultMessage = `Kiv√°l√≥! ${movePoints} pont. Ez a legpontosabb magyar√°zat.`;
            } else if (movePoints === 1) {
                resultClass = 'partial-result';
                resultMessage = `R√©szben j√≥! ${movePoints} pont. Ez a magyar√°zat tartalmaz fontos √°rnyalatokat, de van pontosabb is.`;
            } else { // movePoints === 0
                resultClass = 'negative-result';
                resultMessage = `Sajnos nem ez a legpontosabb! ${movePoints} pont. Ezt a t√©vhitet fontos eloszlatni.`;
            }

            // 3. Show the result box
            elResultText.textContent = resultMessage;
            elResultMove.textContent = `L√©p√©s: +${movePoints} mez≈ë.`;

            elResultBox.className = `p-4 rounded-xl text-center card-shadow mt-6 ${resultClass}`;
            elResultBox.classList.remove('hidden');

            // 4. Show the Continue button 
            elContinueButton.classList.remove('hidden');
        }
        
        // Function to move to the next step (called by the continue button)
        window.nextStep = function() {
            if (!isGameActive || !choiceMade) return;
            currentStep++;
            updateUI();
        }

        function startGame() {
            if (!elIntro || !elMainContent) {
                console.error("DOM elements not initialized. Call initializeElements() first.");
                return;
            }
            elIntro.classList.add('hidden');
            elMainContent.classList.remove('hidden');
            currentStep = 0;
            currentScore = 0;
            isGameActive = true;
            moveToken(0); // Initialize token position at Square 0
            updateUI();
        }

        function restartGame() {
            if (!elConclusion) return;
            elConclusion.classList.add('hidden');
            // Re-prepare game data to ensure randomization on restart
            const freshGameData = prepareGameData(gameDataRaw);
            gameData.length = 0; 
            gameData.push(...freshGameData);
            startGame();
        }

        function getConclusionText() {
            const score = currentScore;
            let title, message, color;
            const maxScore = gameData.length * 2; // 10 * 2 = 20

            if (score >= maxScore * 0.9) { // 18-20 pont
                title = "üéâ AI Etikai Mester! (Kiv√°l√≥!) üéâ";
                message = `${maxScore} pontb√≥l ${score} pontot √©rt√©l el. Rendk√≠v√ºl j√≥l eligazodsz az AI etikai, jogi √©s m≈±k√∂d√©si k√©rd√©seiben. K√©pes vagy hitelesen √©s megalapozottan tov√°bbadni ezt a tud√°st a di√°koknak. K√©szen √°llsz az AI √ötlev√©l megszerz√©s√©re!`;
                color = 'text-green-600';
            } else if (score >= maxScore * 0.5) { // 10-17 pont
                title = "‚≠ê AI √ött√∂r≈ë (J√≥l Haladsz!) ‚≠ê";
                message = `${maxScore} pontb√≥l ${score} pontot √©rt√©l el. Gyakran hozol helyes d√∂nt√©seket, de n√©h√°ny ponton √©rdemes m√©g elm√©ly√≠tened a tud√°sodat, k√ºl√∂n√∂sen az adatv√©delem √©s a transzparencia ter√ºlet√©n. M√°r most is felel≈ësen haszn√°lod az AI-t.`;
                color = 'text-yellow-600';
            } else { // 0-9 pont
                title = "üß† AI Felfedez≈ë (J√≥ Kezd√©s!) üß†";
                message = `${maxScore} pontb√≥l ${score} pontot √©rt√©l el. J√≥ munk√°t v√©gezt√©l, de sok ponton kider√ºlt, hogy az AI-val kapcsolatos t√©vhitek m√©g √©lnek. Fontos, hogy meg√©rtsd, az AI csak t√°mogat√≥, nem helyettes√≠t≈ë eszk√∂z. √ârdemes elm√©ly√≠teni a tud√°sodat a jogi √©s etikai keretekr≈ël!`;
                color = 'text-red-600';
            }

            return { title, message, color };
        }

        function endGame() {
            if (!elMainContent || !elConclusion) return; 

            isGameActive = false;
            elMainContent.classList.add('hidden');
            elConclusion.classList.remove('hidden');

            const result = getConclusionText();

            document.getElementById('final-score').textContent = currentScore;
            document.getElementById('conclusion-title').textContent = result.title;
            document.getElementById('conclusion-message').innerHTML = result.message;
            document.getElementById('conclusion-title').className = `text-3xl font-extrabold mb-4 ${result.color}`;
        }
        
        window.onload = initializeElements;
    </script>
</head>
<body class="min-h-screen p-4 md:p-8 flex justify-center items-start">

    <div class="w-full max-w-6xl">

        <header class="flex justify-between items-center py-4 px-2 mb-6">
            <div class="text-xl md:text-2xl font-bold text-gray-700">AI-Etikai D√∂nt√©si J√°t√©k</div>
            <div class="flex space-x-4 items-center">
                <div class="text-lg font-semibold text-gray-700 hidden sm:block">Jelenlegi Pont:</div>
                <div id="current-score" class="score-box text-2xl">0</div>
            </div>
        </header>

        <section id="intro-screen" class="p-8 md:p-12 bg-white rounded-3xl card-shadow w-full">
            <h1 class="text-4xl font-extrabold mb-6 text-gray-800">üëã √údv√∂z√∂llek az AI-Etikai Kv√≠zben!</h1>
            <p class="text-lg mb-4 text-gray-600">Ez a kv√≠z 10 √°ll√≠t√°st tartalmaz az AI oktat√°si felhaszn√°l√°s√°r√≥l. Minden √°ll√≠t√°sn√°l el kell d√∂ntened, melyik magyar√°zat a legpontosabb. H√°rom opci√≥ k√∂z√ºl v√°laszthatsz: a **legjobb (+2 pont)**, a **r√©szben j√≥ (+1 pont)**, vagy a **f√©lrevezet≈ë (0 pont)**. A c√©l, hogy el√©rd a 20 pontot!</p>
            
            <h2 class="text-2xl font-bold mt-8 mb-4 text-orange-600">Hogyan j√°tssz:</h2>
            <ul class="list-disc list-inside space-y-3 text-lg text-gray-700 ml-4">
                <li>A j√°t√©kot a **0-√°s mez≈ën** kezded.</li>
                <li>Minden √°ll√≠t√°sn√°l **h√°rom magyar√°zat** k√∂z√ºl kell kiv√°lasztanod a legmegfelel≈ëbbet.</li>
                <li>A helyes v√°laszt√°s el≈ërevisz a t√°bl√°n:
                    <ul class="list-none space-y-1 mt-2">
                        <li class="font-semibold text-green-600">
                            ‚Äî **Legjobb V√°lasz** <span class="text-xl font-extrabold text-gray-900">(+2):</span> L√©pj +2 mez≈ët.
                        </li>
                        <li class="font-semibold text-orange-600">
                            ‚Äî **R√©szben J√≥ V√°lasz** <span class="text-xl font-extrabold text-gray-900">(+1):</span> L√©pj +1 mez≈ët.
                        </li>
                        <li class="font-semibold text-red-600">
                            ‚Äî **Helytelen V√°lasz** <span class="text-xl font-extrabold text-gray-900">(0):</span> Maradj a helyeden.
                        </li>
                    </ul>
                </li>
            </ul>

            <div class="text-center mt-10">
                <button onclick="startGame()" class="px-8 py-4 bg-orange-500 text-white text-xl font-extrabold rounded-xl card-shadow hover:bg-orange-600 transition duration-200">
                    Kezdd a Kv√≠zt!
                </button>
            </div>
        </section>

        <main id="main-content" class="hidden">
            
            <div id="board-section" class="mb-8 lg:mb-10 w-full">
                <h3 class="text-xl font-bold mb-4 text-gray-700">Pontoz√≥t√°bla (0 - 20 mez≈ë)</h3>
                <div id="game-board-container">
                    <div id="player-token"><i class="fas fa-shield-alt"></i></div>
                    <div id="game-board">
                        </div>
                </div>
            </div>


            <div id="main-content-layout" class="grid lg:grid-cols-3 gap-8">
                
                <div class="lg:col-span-2">
                    <div id="game-card" class="p-6 md:p-10 bg-white rounded-3xl card-shadow w-full">

                        <div class="flex justify-between items-center mb-6 border-b pb-4 border-orange-200">
                            <h2 class="text-xl font-bold text-orange-600">√Åll√≠t√°s</h2>
                            <div class="text-lg font-semibold text-gray-500">K√©rd√©s <span id="step-counter">1 / 10</span></div>
                        </div>

                        <div id="scenario-text" class="mb-8 min-h-[100px] text-gray-700">
                            </div>

                        <div id="choices-container" class="space-y-4">
                            </div>
                    </div>
                </div>

                <div class="lg:col-span-1">
                    <h3 class="text-xl font-bold mb-4 text-gray-700">Visszajelz√©s</h3>
                    <div id="result-box" class="hidden transition duration-500 ease-in-out">
                        <div class="p-6 rounded-2xl">
                            <p id="result-text" class="text-xl mb-4 font-medium"></p>
                            <p id="result-move" class="text-3xl font-extrabold"></p>
                        </div>
                    </div>

                    <div class="text-center mt-6">
                        <button id="continue-button" onclick="nextStep()" class="hidden w-full px-6 py-4 bg-green-500 text-white text-lg font-bold rounded-xl card-shadow hover:bg-green-600 transition duration-200">
                            Folytat√°s a k√∂vetkez≈ë √°ll√≠t√°shoz ‚Üí
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <section id="conclusion-screen" class="hidden p-8 md:p-12 bg-white rounded-3xl card-shadow w-full text-center">
            <h1 class="text-4xl font-extrabold mb-4 text-gray-800">üèÅ Kv√≠z V√©ge!</h1>
            <p class="text-xl text-gray-700 mb-6">Befejezted mind a 10 AI etikai k√©rd√©st. Az el√©rt pontsz√°mod:</p>
            
            <div id="final-score-display" class="my-8">
                <span id="final-score" class="text-7xl font-extrabold text-orange-500 bg-orange-100 p-6 rounded-full inline-block min-w-[120px] shadow-lg">0</span>
            </div>

            <h2 id="conclusion-title" class="text-3xl font-extrabold mb-4"></h2>
            <p id="conclusion-message" class="text-lg text-gray-600 mb-8"></p>
            
            <button onclick="restartGame()" class="px-8 py-4 bg-orange-500 text-white text-xl font-extrabold rounded-xl card-shadow hover:bg-orange-600 transition duration-200">
                √öjrakezd√©s
            </button>
        </section>

    </div>

    <script>
        // Initial setup on load
        window.onload = initializeElements;
    </script>
</body>

</html>
